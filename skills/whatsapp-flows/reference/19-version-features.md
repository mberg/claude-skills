# Version Features & Compatibility

WhatsApp Flow JSON version timeline and feature availability.

---

## Flow JSON Version History

### Version 7.1 (Latest)
- Latest version with all features
- Released: Latest
- New components: ImageCarousel

### Version 7.0
- ImageCarousel component
- ChipsSelector improvements
- Strikethrough in markdown

### Version 6.3
- RichText can combine with Footer
- If/Switch can use RichText
- ChipsSelector enhancements

### Version 6.2
- NavigationList component (v6.2+)
- Pattern validation in TextInput
- Other improvements

### Version 6.1
- CalendarPicker component (v6.1+)
- Better date handling

### Version 6.0
- update_data action
- open_url action
- Nested expressions (backtick syntax)
- Global referencing improvements
- Strikethrough markdown (~~text~~)

### Version 5.1
- RichText component
- Markdown support in TextBody, TextCaption
- sensitive array for field masking
- PhotoPicker and DocumentPicker (v5.0+)

### Version 5.0
- PhotoPicker component
- DocumentPicker component
- Media upload support

### Version 4.0
- If and Switch components
- Optional Form component
- Global data referencing
- data_api_version support
- routing_model support

### Version 3.0 and Earlier
- Basic components
- Required Form wrapper
- Limited conditional logic

---

## Feature Matrix by Version

| Feature | 4.0+ | 5.0+ | 5.1+ | 6.0+ | 6.1+ | 6.2+ | 6.3+ | 7.0+ | 7.1+ |
|---------|------|------|------|------|------|------|------|------|------|
| TextHeading | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| TextSubheading | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| TextBody | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| TextCaption | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| RichText | | | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| TextInput | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| TextArea | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| CheckboxGroup | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| RadioButtonsGroup | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| Dropdown | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| OptIn | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| DatePicker | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| CalendarPicker | | | | | ✓ | ✓ | ✓ | ✓ | ✓ |
| PhotoPicker | | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| DocumentPicker | | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| Image | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| ImageCarousel | | | | | | | | ✓ | ✓ |
| NavigationList | | | | | | ✓ | ✓ | ✓ | ✓ |
| ChipsSelector | | | | | | ✓ | ✓ | ✓ | ✓ |
| EmbeddedLink | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| Footer | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| If component | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| Switch component | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| navigate action | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| data_exchange action | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| complete action | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| update_data action | | | | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| open_url action | | | | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| Markdown in TextBody | | | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| Markdown in TextCaption | | | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| Nested expressions | | | | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| Global referencing | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| Pattern validation | | | | | | ✓ | ✓ | ✓ | ✓ |
| sensitive array | | | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| routing_model | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| data_api_version | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |

---

## New Features by Version

### 7.1
- ImageCarousel improvements
- Bug fixes

### 7.0
- **ImageCarousel**: Slide through multiple images
- **ChipsSelector improvements**: Better mobile UX
- **Strikethrough**: `~~text~~` in markdown

### 6.3
- **RichText with Footer**: RichText can combine with Footer (previously standalone)
- **If/Switch with RichText**: Conditionally render RichText
- **ChipsSelector enhancements**: Better selection state handling

### 6.2
- **NavigationList**: Rich navigation with descriptions and images
- **TextInput pattern**: Regex pattern validation
- **Better validation**: Stricter JSON schema validation

### 6.1
- **CalendarPicker**: Full calendar with range selection
- **Timezone improvements**: Better date handling across timezones

### 6.0
- **update_data action**: Update screen state without navigating
- **open_url action**: Open external links
- **Nested expressions**: Full backtick expression support (`${`...`}`)
- **Better global refs**: More flexible cross-screen references
- **Strikethrough**: ~~text~~ in markdown

### 5.1
- **RichText component**: Large formatted text with markdown
- **Markdown support**: TextBody and TextCaption support markdown
- **sensitive array**: Mark fields for masking in responses
- **Better preview**: Improved Flow preview mode

### 5.0
- **PhotoPicker**: Upload photos from device
- **DocumentPicker**: Upload documents
- **Media support**: Handle file uploads in flows

### 4.0
- **If component**: Conditional rendering with boolean logic
- **Switch component**: Multi-way conditional rendering
- **Optional Form**: Form wrapper no longer required
- **Global referencing**: Access data from any screen
- **routing_model**: Server-driven flow control

---

## Choosing Your Version

### Use Latest (7.1) When:
- Starting new flows
- Need all features
- Building complex interactions
- No legacy constraints

### Use 6.0-6.3 When:
- Need specific features (CalendarPicker, NavigationList)
- Supporting older clients
- Simpler flows are sufficient

### Use 5.x When:
- Need media uploads but not navigation features
- Legacy flow compatibility

### Use 4.x When:
- Legacy system constraints
- Very simple flows
- Not supported for new flows

---

## Migration Path

If updating flows to newer version:

1. **Backup current flow** - Save old version
2. **Update version property** - `"version": "7.1"`
3. **Test in preview** - Verify all features work
4. **Test on devices** - Check actual WhatsApp
5. **Gradual rollout** - Deploy to small user % first
6. **Monitor errors** - Track issues in production

---

## Breaking Changes

### 5.0
- PhotoPicker/DocumentPicker API changed from earlier releases

### 6.0
- Nested expression syntax changed (now uses backticks)

### 6.3
- RichText behavior changed (can now combine with Footer)

---

## Recommendation

**For new flows**: Always use latest version (7.1)

Benefits:
- All features available
- Latest bug fixes
- Best performance
- Full validation

---

## Next Steps

- Review **components** in tier-specific references
- Check **version features** for your use case
- See **examples** in `examples/` directory
